<!--
  ~ Created by Alex Matos Iuasse.
  ~ Copyright (c) 2020.  All rights reserved.
  ~ Last modified 31/08/2020 19:33.
  -->

{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container-fluid">
    <!--    <div class="row">-->
    <!--        <div class="page-header">-->
    <!--            <div class="row align-items-center">-->
    <!--                <div class="col-auto">-->
    <!--                    <div class="page-pretitle">-->
    <!--                        Gráficos-->
    <!--                    </div>-->
    <!--                    <h2 class="page-title">-->
    <!--                        {{ICON_LINE_CHART|safe}}-->
    <!--                        Informações de forma visual-->
    <!--                    </h2>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--        <p>Nessa seção você terá acesso aos gráficos mostrando informações sobre seu negócio de forma visual.</p>-->
    <!--    </div>-->
    <div class="row">
        {% for k,v in headers_charts_line.items %}
        <div class="col-lg-12 col-md-12">
            <div class="page-header">
                <div class="row align-items-center">
                    <div class="col-auto">
                        <div class="page-pretitle">
                            {{v.pre_title}}
                        </div>
                        <h2 class="page-title">
                            {{v.title.icon|safe}}
                            {{v.title.text}}
                        </h2>
                    </div>
                </div>
            </div>
            <div class="chart" id="{{v.chart_id}}"></div>
            <hr>
        </div>
        {% endfor %}
    </div>
    <div class="row">
        {% for k,v in headers_charts_pie.items %}
        <div class="col-lg-4 col-md-12 border">
            <div class="page-header">
                <div class="row align-items-center">
                    <div class="col-auto">
                        <div class="page-pretitle">
                            {{v.pre_title}}
                        </div>
                        <h2 class="page-title">
                            {{v.title.icon|safe}}
                            {{v.title.text}}
                        </h2>
                    </div>
                </div>
            </div>
            <div class="chart" id="{{v.chart_id}}"></div>
            <hr>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
{% block javascript %}
{% for k,v in charts.items %}
<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    var chart = new ApexCharts(document.getElementById('{{k}}'), {{v.options|safe}});
    chart.render();
  // @formatter:on
  });
</script>
{% endfor %}
{% endblock %}>