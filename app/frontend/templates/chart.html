<!--
  ~ Created by Alex Matos Iuasse.
  ~ Copyright (c) 2020.  All rights reserved.
  ~ Last modified 03/09/2020 17:28.
  -->

{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container-xl">
    <div class="page-header">
        <div class="row align-items-center">
            <div class="col-auto">
                <div class="page-pretitle">Gráficos</div>
                <h2 class="page-title">
                    {{ICON_LINE_CHART|safe}}
                    Gráficos
                </h2>
            </div>
        </div>
    </div>
    <div class="row row-deck row-cards">
        {% for k,v in pie_charts.items %}
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">
                        {{v.title.icon|safe}}
                        {{v.title.text}}
                    </h3>
                    <div class="chart" id="{{v.chart_pie.id}}"></div>
                </div>
                <div class="card-footer">
                    <p>{{v.description}}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="row row-deck row-cards">
        {% for k,v in line_charts.items %}
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">
                        {{v.title.icon|safe}}
                        {{v.title.text}}
                    </h3>
                    <div class="chart" id="{{v.chart_line.id}}"></div>
                </div>
                <div class="card-footer">
                    <p>{{v.description}}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
{% block javascript %}
{% for k,v in charts.items %}
<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    var chart = new ApexCharts(document.getElementById('{{k}}'), {{v.options|safe}});
    chart.render();
  // @formatter:on
  });








</script>
{% endfor %}
{% endblock %}>